- Examine the tool calling system. Determine how the tool calling system relates to the model capabilities system. The tool calling system needs to be implemented as a model capability. Basically tool calling is a capability that multiple models support in different ways. Ensure the conversation tracking system can handle the refactor correctly.
- Examine the tool calling system. No matter the backend, no matter the model, the LLM response processing should loop until the LLM stops making tool calls. After _every_ tool call, the system should send the response to the LLM. The processing loop should only terminate if the last LLM response included no tool calls. Refactor the implementation to match this requirement if it doesn't already.
- There is a bug with tool calling in this codebase. When a local model returns a tool use call, the application is displaying the raw tool use code to the user, as well as trying to execute the tool. Refactor the implementation so that the LLMs raw tool use invocation is not rendered to the user, whilst maintaining the informative output on actual tool use.
- The CLI interface for this application supports a subset of Readline-like features. Research how to compile Readline with Cosmopolitan, and refactor the user input functionality to use Readline.
- I want to upgrade the user feedback when a model calls a tool. I want to see a) the tool used, b) the arguments used, and c) the success/failure of the tool call. Some tool calls have long text strings as arguments,g so some kind of truncation is going to be required.
